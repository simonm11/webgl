<html>

<head>
<title>test</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script type="text/javascript" src="libs/glMatrix-0.9.5.min.js"></script>
<script type="text/javascript" src="libs/jquery-1.11.1.min.js"></script>

<link rel="stylesheet" href="jquery-ui/jquery-ui.css"/>
<link rel="stylesheet" href="css/gui.css"/>
<script type="text/javascript" src="jquery-ui/jquery-ui.js"></script>

<script type="text/javascript" src="libs/stats.min.js"></script>
<script type="text/javascript" src="libs/webgl-utils.js"></script>
<script type="text/javascript" src="libs/dds.js"></script>

<script type="text/javascript" src="libs/webgl-debug.js"></script>

<script type="text/javascript" src="libs/GLU-unproject.js"></script>
<script type="text/javascript" src="src/player.js"></script>
<script type="text/javascript" src="src/QuadTree.js"></script>
<script type="text/javascript" src="src/units.js"></script>
<script type="text/javascript" src="src/Grid.js"></script>
<script type="text/javascript" src="src/engine.js"></script>
<script type="text/javascript" src="src/gui.js"></script>
<script type="text/javascript" src="src/shaders.js"></script>
<script type="text/javascript" src="src/map.js"></script>
<script type="text/javascript" src="src/simpleModel.js"></script>
<script type="text/javascript" src="src/events.js"></script>
<script type="text/javascript" src="src/main.js"></script>

<script type="text/javascript">

    var tmp_engine;
  
    function webGLStart() {

    try {
        var canvas = $('#webgl-canvas')[0];
        var gl = canvas.getContext("experimental-webgl", { antialias:false });
            
        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientHeight;

        gl.viewportWidth = canvas.width;
        gl.viewportHeight = canvas.height;
        
    } catch (e) {
        console.log(e);
    }    
        
    if (!gl) {
        alert("Erreur init webgl");
    }

    tmp_engine = new Engine(gl);
    tmp_engine.init();
    tmp_engine.start();
            
        
    }

</script>


</head>


<body onload="webGLStart();" style="margin: 0;">

  <canvas id="webgl-canvas" style="border: none; width: 100%; height: 100%;"></canvas>
  <div id="gui" style="display: none">
    <div class="c1" id="sky_box_param">
      <h2> Sky </h2>
	  <div >
	    <div class="slider-label tt">Pitch: <span id="label-pitch"></span><span id="pos"></span></div>	
	    <div class="slider-sky" id="pitch"></div>
	  </div>
	  
	  <div >
	    <div class="slider-label tt">Raw: <span id="label-yawn"></span></div>	
	    <div class="slider-sky" id="yawn"></div>
	  </div>

	  <div >
	    <div class="slider-label tt">Sky Clarity : <span id="label-clarity"></span></div>	
	    <div class="slider-sky" id="clarity"></div>
	  </div>
	  
	  <div >
	    <div class="slider-label tt">Pollution : <span id="label-pollution"></span></div>	
	    <div class="slider-sky" id="pollution"></div>
	  </div>
	  
	  <div >
	    <div class="slider-label tt">Density : <span id="label-density"></span></div>	
	    <div class="slider-sky" id="density"></div>
	  </div>
	  <div >
	    <div class="slider-label tt">Planet Scale : <span id="label-planet-scale"></span></div>	
	    <div class="slider-sky" id="planet-scale"></div>
	  </div>
	  <div >
	    <div class="slider-label tt">Atmosphere Scale : <span id="label-atmosphere-scale"></span></div>	
	    <div class="slider-sky" id="atmosphere-scale"></div>
	  </div>
	  <div >
	    <div class="slider-label tt">Sun disk radius : <span id="label-disk-radius"></span></div>	
	    <div class="slider-sky" id="disk-radius"></div>
	  </div>
	  <div>
	    <div class="slider-label tt">Birhgtness : <span id="label-brightness"></span></div>	
	    <div class="slider-sky" id="brightness"></div>
	  </div>
	  <div>
	    <div class="slider-label tt">Sun disk intensity : <span id="label-disk-intensity"></span></div>	
	    <div class="slider-sky" id="disk-intensity"></div>
	  </div>		
    </div>

    <div class="c1">
      <h2> Shadows </h2>
      <div class="c2"> <div class="left option">Enable</div> <input id="enableShadows" class="left" type="checkbox" checked/></div> 
    </div>

    <div class="c1">
      <h2> Log </h2>
      <textarea id="log" rows="4" cols="50"></textarea>
    </div>
    
    <div id="frame">
    </div>
  </div>

  <div id="show-gui">Options</div>

  <script>

    var oldLog = console.log;
    
    console.log = function (message) {
       var txt = $("#log");
       txt.val(txt.val() + message + "\n");
       oldLog.apply(console, arguments);
    };
    
  </script>
</body>

</html>
